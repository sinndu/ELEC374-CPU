module RCA_32 (
    input [31:0] A, 
    input [31:0] B, 
    input c_in,       // Carry-in: 0 for Add, 1 for Sub (used later)
    output [31:0] S,  // Sum output
    output c_out      // Carry-out (for overflow detection)
);

    wire [32:0] carry; 
    assign carry[0] = c_in; // Connect input carry to the first bit

    genvar i;
    generate
        for(i = 0; i < 32; i = i + 1) begin : adder_loop
            // Full Adder Logic:
            // Sum = A XOR B XOR Carry_in
            assign S[i] = A[i] ^ B[i] ^ carry[i];
            
            // Carry_out = (A&B) | (A&Cin) | (B&Cin)
            assign carry[i+1] = (A[i] & B[i]) | (A[i] & carry[i]) | (B[i] & carry[i]);
        end
    endgenerate

    assign c_out = carry[32]; // The final carry out

endmodule